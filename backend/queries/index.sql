-- CREATE DATABASE `dtd_db` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
CREATE TABLE `dtd_db`.`Users` (
    UserID INT AUTO_INCREMENT PRIMARY KEY,
    Username VARCHAR(50) NOT NULL UNIQUE,
    Email VARCHAR(255) NOT NULL UNIQUE,
    PasswordHash VARCHAR(255) NOT NULL,
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    LastLogin TIMESTAMP NULL,
    IsActive BOOLEAN DEFAULT FALSE
);
CREATE TABLE `dtd_db`.`Membership` (
    MembershipID INT AUTO_INCREMENT PRIMARY KEY,
    UserID INT NOT NULL,
    ActivationToken VARCHAR(255) NOT NULL UNIQUE,
    TokenExpiry TIMESTAMP NOT NULL,
    IsActivated BOOLEAN DEFAULT FALSE,
    ActivatedAt TIMESTAMP NULL,
    FOREIGN KEY (UserID) REFERENCES Users(UserID) ON DELETE CASCADE
);
